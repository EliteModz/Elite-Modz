<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Elite Modz - Checkout</title>
  <link rel="stylesheet" href="styles.css">
  <script src="checkout.js"></script> <!-- Link if using an external file -->
</head>
<body>
  <div class="checkout-container">
    <h1>Checkout</h1>

    <!-- Order Summary -->
    <section class="order-summary">
      <h2>Your Order Summary</h2>
      <div class="items-list" id="items-list"></div>
      <div class="total">
        <span>Total Amount:</span>
        <span class="total-price" id="total-price">$0.00</span>
      </div>
    </section>

    <!-- Billing Information -->
    <form id="checkout-form" action="/process-order" method="POST">
      <h2>Billing Information</h2>
      <label for="username">Username:</label>
      <input type="text" id="username" name="username" required>

      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required>

      <!-- Payment Methods -->
      <h2>Payment Method</h2>
      <select id="payment-method" name="payment-method" required>
        <option value="">Select Payment Method</option>
        <option value="credit-card">Credit Card</option>
        <option value="debit-card">Debit Card</option>
        <option value="cashapp">CashApp</option>
        <option value="paypal">PayPal</option>
        <option value="google-pay">Google Pay</option>
        <option value="apple-pay">Apple Pay</option>
        <option value="stripe">Stripe</option>
      </select>

      <button type="submit" class="confirm-btn">Confirm Purchase</button>
    </form>
  </div>

  <script>
    const cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];

    function populateOrderSummary() {
      const itemsList = document.getElementById("items-list");
      const totalPriceElement = document.getElementById("total-price");
      let total = 0;

      itemsList.innerHTML = "";

      if (cartItems.length === 0) {
        itemsList.innerHTML = "<p>Your cart is empty.</p>";
        totalPriceElement.textContent = "$0.00";
      } else {
        cartItems.forEach(item => {
          const itemDiv = document.createElement("div");
          itemDiv.classList.add("item");
          itemDiv.innerHTML = `<span>${item.name}</span><span class="price">$${item.price}</span>`;
          itemsList.appendChild(itemDiv);
          total += item.price;
        });
        totalPriceElement.textContent = `$${total.toFixed(2)}`;
      }
    }

    window.onload = populateOrderSummary;
  </script>
</body>
</html>
